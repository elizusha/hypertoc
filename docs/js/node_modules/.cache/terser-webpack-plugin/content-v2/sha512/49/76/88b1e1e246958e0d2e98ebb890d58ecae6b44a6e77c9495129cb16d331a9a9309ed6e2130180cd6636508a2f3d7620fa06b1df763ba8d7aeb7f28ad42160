{"code":"!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=0)}([function(e,t,r){\"use strict\";r.r(t);class n{constructor(e,t){this.url=t.url||e.associatedMedia.contentUrl,this.startOffset=t.startOffset||0,this.endOffset=t.endOffset||null,this.name=t.name}}class a{constructor(e){this.count=0,this.trackNumber=0,this.player=document.getElementById(\"player\"),this.entries=e,this.createHtml(this.entries)}static async create(e){var t=await a.createEntries(e);return new a(t)}playTrackByNumber(e){var t=this.entries[e];this.trackNumber=e;let r=++this.count;this.player.src=t.url,this.player.currentTime=t.startOffset,this.player.play().then(()=>{null!==this.endOffset&&setTimeout((function(){r==this.count&&player.pause()}),1e3*(t.endOffset-t.startOffset+1))})}next(){this.trackNumber+1<this.entries.length&&this.playTrackByNumber(this.trackNumber+1)}static async createEntries(e){var t=await schemarama.parseJsonLd(JSON.stringify(e),\"http://example.org/dummy\");console.log(t.getQuads(n3.namedNode(\"http://example.org/dummy\"),null,null));var r=[];for(var a of e.tocEntry)r.push(new n(e,a));return r}createHtml(e){var t=document.getElementById(\"entry_list\");t.innerHTML=\"\";for(let s=0;s<e.length;s++){var r=document.createElement(\"a\");r.setAttribute(\"href\",\"#\");var n=document.createTextNode(e[s].name);r.appendChild(n),r.onclick=()=>{this.playTrackByNumber(s)};var a=document.createElement(\"li\");a.appendChild(r),t.appendChild(a)}}}var s=null;window.onload=e=>{document.getElementById(\"audio-select\").oninput=e=>{var t=e.target.value;\"\"!=t&&fetch(t).then(e=>e.json()).then(e=>a.create(e)).then(e=>{s=e})};var t=new webkitSpeechRecognition;document.getElementById(\"rec_button\").onclick=()=>{t.start()},t.onresult=function(e){if(e.results.length>0){var t=e.results[0][0].transcript;rec_result.value=t,\"next\"==t&&s.next()}}}}]);","extractedComments":[]}